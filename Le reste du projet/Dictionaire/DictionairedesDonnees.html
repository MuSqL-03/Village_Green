<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dictionnaires des DonnÃ©es </title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ddd; padding: 10px; text-align: left; }
        th { background-color: #f4f4f4; }
    </style>
</head>
<body>
    <h1>ğŸ“‹ Dictionnaire des DonnÃ©es  - CatÃ©gories</h1>
    <h2>Structure des DonnÃ©es</h2>
    <table>
        <tr>
            <th>Nom de l'Attribut</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
        <tr>
            <td>id</td>
            <td>int</td>
            <td>Identifiant unique de la catÃ©gorie (clÃ© primaire).</td>
        </tr>
        <tr>
            <td>nom</td>
            <td>string(255)</td>
            <td>Nom unique de la catÃ©gorie.</td>
        </tr>
        <tr>
            <td>photo</td>
            <td>string(255)</td>
            <td>Chemin ou URL de lâ€™image de la catÃ©gorie.</td>
        </tr>
        <tr>
            <td>parent_id</td>
            <td>int (nullable)</td>
            <td>RÃ©fÃ©rence Ã  la catÃ©gorie parent.</td>
        </tr>
        <tr>
            <td>categories</td>
            <td>Collection</td>
            <td>Liste des sous-catÃ©gories associÃ©es.</td>
        </tr>
        <tr>
            <td>products</td>
            <td>Collection</td>
            <td>Liste des produits appartenant Ã  cette catÃ©gorie.</td>
        </tr>
    </table>

    <h2>RÃ¨gles de Gestion</h2>
    <table>
        <tr>
            <th>ID</th>
            <th>RÃ¨gle</th>
        </tr>
        <tr>
            <td>RG01</td>
            <td>Une catÃ©gorie doit avoir un nom unique.</td>
        </tr>
        <tr>
            <td>RG02</td>
            <td>Une catÃ©gorie peut Ãªtre une sous-catÃ©gorie d'une autre catÃ©gorie.</td>
        </tr>
        <tr>
            <td>RG03</td>
            <td>Une catÃ©gorie peut contenir plusieurs sous-catÃ©gories.</td>
        </tr>
        <tr>
            <td>RG04</td>
            <td>Une catÃ©gorie peut contenir plusieurs produits, mais un produit appartient Ã  une seule catÃ©gorie.</td>
        </tr>
        <tr>
            <td>RG05</td>
            <td>Lorsqu'une catÃ©gorie est supprimÃ©e, ses sous-catÃ©gories sont Ã©galement supprimÃ©es (CASCADE).</td>
        </tr>
        <tr>
            <td>RG06</td>
            <td>Une catÃ©gorie doit obligatoirement avoir une image associÃ©e.</td>
        </tr>
    </table>

    <h1>Dictionnaire de DonnÃ©es - Fournisseur</h1>
    
    <h2>Structure des DonnÃ©es</h2>
    <table>
        <tr>
            <th>Nom de l'Attribut</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
        <tr>
            <td>id</td>
            <td>int</td>
            <td>Identifiant unique du fournisseur (clÃ© primaire).</td>
        </tr>
        <tr>
            <td>nom</td>
            <td>string(255)</td>
            <td>Nom unique du fournisseur.</td>
        </tr>
        <tr>
            <td>adresse</td>
            <td>string(255)</td>
            <td>Adresse complÃ¨te du fournisseur.</td>
        </tr>
        <tr>
            <td>telephone</td>
            <td>string(20)</td>
            <td>NumÃ©ro de tÃ©lÃ©phone du fournisseur.</td>
        </tr>
        <tr>
            <td>products</td>
            <td>Collection</td>
            <td>Liste des produits fournis par ce fournisseur.</td>
        </tr>
    </table>

    <h2>RÃ¨gles de Gestion</h2>
    <table>
        <tr>
            <th>ID</th>
            <th>RÃ¨gle</th>
        </tr>
        <tr>
            <td>RG01</td>
            <td>Un fournisseur doit avoir un nom unique.</td>
        </tr>
        <tr>
            <td>RG02</td>
            <td>Un fournisseur doit avoir une adresse valide.</td>
        </tr>
        <tr>
            <td>RG03</td>
            <td>Un fournisseur doit avoir un numÃ©ro de tÃ©lÃ©phone valide (20 caractÃ¨res max).</td>
        </tr>
        <tr>
            <td>RG04</td>
            <td>Un fournisseur peut fournir plusieurs produits.</td>
        </tr>
        <tr>
            <td>RG05</td>
            <td>Lorsqu'un fournisseur est supprimÃ©, les produits liÃ©s ne doivent pas Ãªtre supprimÃ©s mais dÃ©sassociÃ©s.</td>
        </tr>
    </table>


    <h1>Dictionnaire de DonnÃ©es - Produits</h1>
    
    <h2>Structure des DonnÃ©es</h2>
    <table>
        <tr>
            <th>Nom de l'Attribut</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
        <tr>
            <td>id</td>
            <td>int</td>
            <td>Identifiant unique du produit (clÃ© primaire).</td>
        </tr>
        <tr>
            <td>nom</td>
            <td>string(255)</td>
            <td>Nom du produit.</td>
        </tr>
        <tr>
            <td>description</td>
            <td>text</td>
            <td>Description dÃ©taillÃ©e du produit.</td>
        </tr>
        <tr>
            <td>prix</td>
            <td>int</td>
            <td>Prix du produit en centimes.</td>
        </tr>
        <tr>
            <td>stock</td>
            <td>int</td>
            <td>QuantitÃ© disponible en stock.</td>
        </tr>
        <tr>
            <td>created_at</td>
            <td>datetime</td>
            <td>Date et heure de crÃ©ation du produit.</td>
        </tr>
        <tr>
            <td>reference_fournisseur</td>
            <td>string(100)</td>
            <td>RÃ©fÃ©rence fournisseur du produit.</td>
        </tr>
        <tr>
            <td>photo</td>
            <td>string(255)</td>
            <td>URL de la photo du produit.</td>
        </tr>
        <tr>
            <td>categories</td>
            <td>relation</td>
            <td>CatÃ©gorie du produit.</td>
        </tr>
        <tr>
            <td>fournisseur</td>
            <td>relation</td>
            <td>Fournisseur du produit.</td>
        </tr>
    </table>

    <h2>RÃ¨gles de Gestion</h2>
    <table>
        <tr>
            <th>ID</th>
            <th>RÃ¨gle</th>
        </tr>
        <tr>
            <td>RG01</td>
            <td>Un produit doit avoir un nom unique.</td>
        </tr>
        <tr>
            <td>RG02</td>
            <td>Le prix d'un produit doit Ãªtre supÃ©rieur Ã  zÃ©ro.</td>
        </tr>
        <tr>
            <td>RG03</td>
            <td>Le stock d'un produit ne peut pas Ãªtre nÃ©gatif.</td>
        </tr>
        <tr>
            <td>RG04</td>
            <td>Un produit appartient Ã  une seule catÃ©gorie.</td>
        </tr>
        <tr>
            <td>RG05</td>
            <td>Un produit peut Ãªtre liÃ© Ã  un seul fournisseur.</td>
        </tr>
        <tr>
            <td>RG06</td>
            <td>Lorsqu'un produit est supprimÃ©, ses commandes et livraisons doivent Ãªtre conservÃ©es mais dÃ©sassociÃ©es.</td>
        </tr>
    </table>


    <h2>ğŸ“‹ Dictionnaire des DonnÃ©es - Users</h2>

    <table>
        <tr>
            <th>Nom du champ</th>
            <th>Type</th>
            <th>Description</th>
            <th>Contraintes</th>
        </tr>
        <tr>
            <td>id</td>
            <td>Integer</td>
            <td>Identifiant unique de l'utilisateur</td>
            <td>Auto-incrÃ©mentÃ©, clÃ© primaire</td>
        </tr>
        <tr>
            <td>email</td>
            <td>String (180)</td>
            <td>Adresse email de l'utilisateur</td>
            <td>Unique, obligatoire</td>
        </tr>
        <tr>
            <td>roles</td>
            <td>Array</td>
            <td>RÃ´les attribuÃ©s Ã  l'utilisateur</td>
            <td>Valeur par dÃ©faut : ROLE_USER</td>
        </tr>
        <tr>
            <td>password</td>
            <td>String</td>
            <td>Mot de passe hashÃ©</td>
            <td>Obligatoire</td>
        </tr>
        <tr>
            <td>nom</td>
            <td>String (255)</td>
            <td>Nom de l'utilisateur</td>
            <td>Obligatoire</td>
        </tr>
        <tr>
            <td>prenom</td>
            <td>String (255)</td>
            <td>PrÃ©nom de l'utilisateur</td>
            <td>Obligatoire</td>
        </tr>
        <tr>
            <td>adresse</td>
            <td>String (255)</td>
            <td>Adresse postale</td>
            <td>Obligatoire</td>
        </tr>
        <tr>
            <td>codepostal</td>
            <td>String (10)</td>
            <td>Code postal</td>
            <td>Format numÃ©rique</td>
        </tr>
        <tr>
            <td>ville</td>
            <td>String (150)</td>
            <td>Ville</td>
            <td>Obligatoire</td>
        </tr>
        <tr>
            <td>created_at</td>
            <td>DateTimeImmutable</td>
            <td>Date de crÃ©ation du compte</td>
            <td>Valeur par dÃ©faut : CURRENT_TIMESTAMP</td>
        </tr>
        <tr>
            <td>usertype</td>
            <td>Relation</td>
            <td>Type d'utilisateur</td>
            <td>Peut Ãªtre null</td>
        </tr>
        <tr>
            <td>numeroSiret</td>
            <td>Integer</td>
            <td>NumÃ©ro SIRET (entreprise)</td>
            <td>Peut Ãªtre null</td>
        </tr>
    </table>

    <h2>âš™ï¸ RÃ¨gles de gestion</h2>
    <ul>
        <li>ğŸ“§ Un utilisateur ne peut pas avoir la mÃªme adresse email quâ€™un autre (contrainte dâ€™unicitÃ©).</li>
        <li>ğŸ”‘ Le mot de passe est stockÃ© de maniÃ¨re hashÃ©e pour assurer la sÃ©curitÃ©.</li>
        <li>ğŸ“œ Lâ€™utilisateur doit obligatoirement avoir au moins le rÃ´le <strong>ROLE_USER</strong>.</li>
        <li>ğŸ¢ Le champ <strong>numeroSiret</strong> est optionnel et concerne uniquement les comptes professionnels.</li>
        <li>ğŸ“Œ Lorsquâ€™un utilisateur est supprimÃ©, ses commandes ne doivent pas Ãªtre supprimÃ©es automatiquement.</li>
    </ul>


    <h2>ğŸ“‹ Dictionnaire des DonnÃ©es - Commande</h2>

    <table>
        <tr>
            <th>Nom du champ</th>
            <th>Type</th>
            <th>Description</th>
            <th>Contraintes</th>
        </tr>
        <tr>
            <td>id</td>
            <td>Integer</td>
            <td>Identifiant unique de la commande</td>
            <td>Auto-incrÃ©mentÃ©, clÃ© primaire</td>
        </tr>
        <tr>
            <td>reference</td>
            <td>String (50)</td>
            <td>RÃ©fÃ©rence unique de la commande</td>
            <td>Obligatoire</td>
        </tr>
        <tr>
            <td>created_at</td>
            <td>DateTimeImmutable</td>
            <td>Date de crÃ©ation de la commande</td>
            <td>Valeur par dÃ©faut : CURRENT_TIMESTAMP</td>
        </tr>
        <tr>
            <td>reduction</td>
            <td>Float</td>
            <td>RÃ©duction appliquÃ©e sur la commande</td>
            <td>Valeur par dÃ©faut : 0.0</td>
        </tr>
        <tr>
            <td>etat</td>
            <td>String (255)</td>
            <td>Statut actuel de la commande</td>
            <td>Obligatoire</td>
        </tr>
        <tr>
            <td>dateFacture</td>
            <td>Date</td>
            <td>Date dâ€™Ã©mission de la facture</td>
            <td>Peut Ãªtre null</td>
        </tr>
        <tr>
            <td>adresseFacture</td>
            <td>String (255)</td>
            <td>Adresse de facturation</td>
            <td>Obligatoire</td>
        </tr>
        <tr>
            <td>dateLivraison</td>
            <td>Date</td>
            <td>Date prÃ©vue pour la livraison</td>
            <td>Peut Ãªtre null</td>
        </tr>
        <tr>
            <td>adresseLivraison</td>
            <td>String (255)</td>
            <td>Adresse de livraison</td>
            <td>Obligatoire</td>
        </tr>
        <tr>
            <td>users</td>
            <td>Relation</td>
            <td>Utilisateur ayant passÃ© la commande</td>
            <td>Relation ManyToOne avec `Users`</td>
        </tr>
        <tr>
            <td>coefficient</td>
            <td>Float</td>
            <td>Coefficient de marge appliquÃ© Ã  la commande</td>
            <td>Obligatoire</td>
        </tr>
        <tr>
            <td>total</td>
            <td>Decimal (10,2)</td>
            <td>Montant total de la commande</td>
            <td>Obligatoire</td>
        </tr>
        <tr>
            <td>datePayment</td>
            <td>DateTime</td>
            <td>Date du paiement</td>
            <td>Peut Ãªtre null</td>
        </tr>
    </table>

    <h2>âš™ï¸ RÃ¨gles de gestion</h2>
    <ul>
        <li>ğŸ“Œ Une commande doit toujours Ãªtre associÃ©e Ã  un utilisateur.</li>
        <li>ğŸ’° Le champ <strong>reduction</strong> ne peut pas Ãªtre nÃ©gatif.</li>
        <li>ğŸ“… Une commande ne peut Ãªtre facturÃ©e que si elle est en statut <strong>"ValidÃ©e"</strong> ou supÃ©rieur.</li>
        <li>ğŸ“ Lâ€™adresse de livraison et lâ€™adresse de facturation doivent Ãªtre renseignÃ©es obligatoirement.</li>
        <li>ğŸ“¦ Une commande ne peut Ãªtre livrÃ©e que si son paiement est validÃ©.</li>
        <li>ğŸ“œ Le total doit Ãªtre calculÃ© automatiquement en fonction des produits et de la rÃ©duction.</li>
    </ul>


</body>
</html>
