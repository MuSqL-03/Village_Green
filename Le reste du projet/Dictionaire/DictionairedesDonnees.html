<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dictionnaires des Donn√©es </title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ddd; padding: 10px; text-align: left; }
        th { background-color: #f4f4f4; }
    </style>
</head>
<body>
    <h1>üìã Dictionnaire des Donn√©es  - Cat√©gories</h1>
    <h2>Structure des Donn√©es</h2>
    <table>
        <tr>
            <th>Nom de l'Attribut</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
        <tr>
            <td>id</td>
            <td>int</td>
            <td>Identifiant unique de la cat√©gorie (cl√© primaire).</td>
        </tr>
        <tr>
            <td>nom</td>
            <td>string(255)</td>
            <td>Nom unique de la cat√©gorie.</td>
        </tr>
        <tr>
            <td>photo</td>
            <td>string(255)</td>
            <td>Chemin ou URL de l‚Äôimage de la cat√©gorie.</td>
        </tr>
        <tr>
            <td>parent_id</td>
            <td>int (nullable)</td>
            <td>R√©f√©rence √† la cat√©gorie parent.</td>
        </tr>
        <tr>
            <td>categories</td>
            <td>Collection</td>
            <td>Liste des sous-cat√©gories associ√©es.</td>
        </tr>
        <tr>
            <td>products</td>
            <td>Collection</td>
            <td>Liste des produits appartenant √† cette cat√©gorie.</td>
        </tr>
    </table>

    <h2>R√®gles de Gestion</h2>
    <table>
        <tr>
            <th>ID</th>
            <th>R√®gle</th>
        </tr>
        <tr>
            <td>RG01</td>
            <td>Une cat√©gorie doit avoir un nom unique.</td>
        </tr>
        <tr>
            <td>RG02</td>
            <td>Une cat√©gorie peut √™tre une sous-cat√©gorie d'une autre cat√©gorie.</td>
        </tr>
        <tr>
            <td>RG03</td>
            <td>Une cat√©gorie peut contenir plusieurs sous-cat√©gories.</td>
        </tr>
        <tr>
            <td>RG04</td>
            <td>Une cat√©gorie peut contenir plusieurs produits, mais un produit appartient √† une seule cat√©gorie.</td>
        </tr>
        <tr>
            <td>RG05</td>
            <td>Lorsqu'une cat√©gorie est supprim√©e, ses sous-cat√©gories sont √©galement supprim√©es (CASCADE).</td>
        </tr>
        <tr>
            <td>RG06</td>
            <td>Une cat√©gorie doit obligatoirement avoir une image associ√©e.</td>
        </tr>
    </table>

    <h1>Dictionnaire de Donn√©es - Fournisseur</h1>
    
    <h2>Structure des Donn√©es</h2>
    <table>
        <tr>
            <th>Nom de l'Attribut</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
        <tr>
            <td>id</td>
            <td>int</td>
            <td>Identifiant unique du fournisseur (cl√© primaire).</td>
        </tr>
        <tr>
            <td>nom</td>
            <td>string(255)</td>
            <td>Nom unique du fournisseur.</td>
        </tr>
        <tr>
            <td>adresse</td>
            <td>string(255)</td>
            <td>Adresse compl√®te du fournisseur.</td>
        </tr>
        <tr>
            <td>telephone</td>
            <td>string(20)</td>
            <td>Num√©ro de t√©l√©phone du fournisseur.</td>
        </tr>
        <tr>
            <td>products</td>
            <td>Collection</td>
            <td>Liste des produits fournis par ce fournisseur.</td>
        </tr>
    </table>

    <h2>R√®gles de Gestion</h2>
    <table>
        <tr>
            <th>ID</th>
            <th>R√®gle</th>
        </tr>
        <tr>
            <td>RG01</td>
            <td>Un fournisseur doit avoir un nom unique.</td>
        </tr>
        <tr>
            <td>RG02</td>
            <td>Un fournisseur doit avoir une adresse valide.</td>
        </tr>
        <tr>
            <td>RG03</td>
            <td>Un fournisseur doit avoir un num√©ro de t√©l√©phone valide (20 caract√®res max).</td>
        </tr>
        <tr>
            <td>RG04</td>
            <td>Un fournisseur peut fournir plusieurs produits.</td>
        </tr>
        <tr>
            <td>RG05</td>
            <td>Lorsqu'un fournisseur est supprim√©, les produits li√©s ne doivent pas √™tre supprim√©s mais d√©sassoci√©s.</td>
        </tr>
    </table>


    <h1>Dictionnaire de Donn√©es - Produits</h1>
    
    <h2>Structure des Donn√©es</h2>
    <table>
        <tr>
            <th>Nom de l'Attribut</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
        <tr>
            <td>id</td>
            <td>int</td>
            <td>Identifiant unique du produit (cl√© primaire).</td>
        </tr>
        <tr>
            <td>nom</td>
            <td>string(255)</td>
            <td>Nom du produit.</td>
        </tr>
        <tr>
            <td>description</td>
            <td>text</td>
            <td>Description d√©taill√©e du produit.</td>
        </tr>
        <tr>
            <td>prix</td>
            <td>int</td>
            <td>Prix du produit en centimes.</td>
        </tr>
        <tr>
            <td>stock</td>
            <td>int</td>
            <td>Quantit√© disponible en stock.</td>
        </tr>
        <tr>
            <td>created_at</td>
            <td>datetime</td>
            <td>Date et heure de cr√©ation du produit.</td>
        </tr>
        <tr>
            <td>reference_fournisseur</td>
            <td>string(100)</td>
            <td>R√©f√©rence fournisseur du produit.</td>
        </tr>
        <tr>
            <td>photo</td>
            <td>string(255)</td>
            <td>URL de la photo du produit.</td>
        </tr>
        <tr>
            <td>categories</td>
            <td>relation</td>
            <td>Cat√©gorie du produit.</td>
        </tr>
        <tr>
            <td>fournisseur</td>
            <td>relation</td>
            <td>Fournisseur du produit.</td>
        </tr>
    </table>

    <h2>R√®gles de Gestion</h2>
    <table>
        <tr>
            <th>ID</th>
            <th>R√®gle</th>
        </tr>
        <tr>
            <td>RG01</td>
            <td>Un produit doit avoir un nom unique.</td>
        </tr>
        <tr>
            <td>RG02</td>
            <td>Le prix d'un produit doit √™tre sup√©rieur √† z√©ro.</td>
        </tr>
        <tr>
            <td>RG03</td>
            <td>Le stock d'un produit ne peut pas √™tre n√©gatif.</td>
        </tr>
        <tr>
            <td>RG04</td>
            <td>Un produit appartient √† une seule cat√©gorie.</td>
        </tr>
        <tr>
            <td>RG05</td>
            <td>Un produit peut √™tre li√© √† un seul fournisseur.</td>
        </tr>
        <tr>
            <td>RG06</td>
            <td>Lorsqu'un produit est supprim√©, ses commandes et livraisons doivent √™tre conserv√©es mais d√©sassoci√©es.</td>
        </tr>
    </table>


    <h2>üìã Dictionnaire des Donn√©es - Users</h2>

    <table>
        <tr>
            <th>Nom du champ</th>
            <th>Type</th>
            <th>Description</th>
            <th>Contraintes</th>
        </tr>
        <tr>
            <td>id</td>
            <td>Integer</td>
            <td>Identifiant unique de l'utilisateur</td>
            <td>Auto-incr√©ment√©, cl√© primaire</td>
        </tr>
        <tr>
            <td>email</td>
            <td>String (180)</td>
            <td>Adresse email de l'utilisateur</td>
            <td>Unique, obligatoire</td>
        </tr>
        <tr>
            <td>roles</td>
            <td>Array</td>
            <td>R√¥les attribu√©s √† l'utilisateur</td>
            <td>Valeur par d√©faut : ROLE_USER</td>
        </tr>
        <tr>
            <td>password</td>
            <td>String</td>
            <td>Mot de passe hash√©</td>
            <td>Obligatoire</td>
        </tr>
        <tr>
            <td>nom</td>
            <td>String (255)</td>
            <td>Nom de l'utilisateur</td>
            <td>Obligatoire</td>
        </tr>
        <tr>
            <td>prenom</td>
            <td>String (255)</td>
            <td>Pr√©nom de l'utilisateur</td>
            <td>Obligatoire</td>
        </tr>
        <tr>
            <td>adresse</td>
            <td>String (255)</td>
            <td>Adresse postale</td>
            <td>Obligatoire</td>
        </tr>
        <tr>
            <td>codepostal</td>
            <td>String (10)</td>
            <td>Code postal</td>
            <td>Format num√©rique</td>
        </tr>
        <tr>
            <td>ville</td>
            <td>String (150)</td>
            <td>Ville</td>
            <td>Obligatoire</td>
        </tr>
        <tr>
            <td>created_at</td>
            <td>DateTimeImmutable</td>
            <td>Date de cr√©ation du compte</td>
            <td>Valeur par d√©faut : CURRENT_TIMESTAMP</td>
        </tr>
        <tr>
            <td>usertype</td>
            <td>Relation</td>
            <td>Type d'utilisateur</td>
            <td>Peut √™tre null</td>
        </tr>
        <tr>
            <td>numeroSiret</td>
            <td>Integer</td>
            <td>Num√©ro SIRET (entreprise)</td>
            <td>Peut √™tre null</td>
        </tr>
    </table>

    <h2>‚öôÔ∏è R√®gles de gestion</h2>
    <ul>
        <li>üìß Un utilisateur ne peut pas avoir la m√™me adresse email qu‚Äôun autre (contrainte d‚Äôunicit√©).</li>
        <li>üîë Le mot de passe est stock√© de mani√®re hash√©e pour assurer la s√©curit√©.</li>
        <li>üìú L‚Äôutilisateur doit obligatoirement avoir au moins le r√¥le <strong>ROLE_USER</strong>.</li>
        <li>üè¢ Le champ <strong>numeroSiret</strong> est optionnel et concerne uniquement les comptes professionnels.</li>
        <li>üìå Lorsqu‚Äôun utilisateur est supprim√©, ses commandes ne doivent pas √™tre supprim√©es automatiquement.</li>
    </ul>


    <h2>üìã Dictionnaire des Donn√©es - Commande</h2>

    <table>
        <tr>
            <th>Nom du champ</th>
            <th>Type</th>
            <th>Description</th>
            <th>Contraintes</th>
        </tr>
        <tr>
            <td>id</td>
            <td>Integer</td>
            <td>Identifiant unique de la commande</td>
            <td>Auto-incr√©ment√©, cl√© primaire</td>
        </tr>
        <tr>
            <td>reference</td>
            <td>String (50)</td>
            <td>R√©f√©rence unique de la commande</td>
            <td>Obligatoire</td>
        </tr>
        <tr>
            <td>created_at</td>
            <td>DateTimeImmutable</td>
            <td>Date de cr√©ation de la commande</td>
            <td>Valeur par d√©faut : CURRENT_TIMESTAMP</td>
        </tr>
        <tr>
            <td>reduction</td>
            <td>Float</td>
            <td>R√©duction appliqu√©e sur la commande</td>
            <td>Valeur par d√©faut : 0.0</td>
        </tr>
        <tr>
            <td>etat</td>
            <td>String (255)</td>
            <td>Statut actuel de la commande</td>
            <td>Obligatoire</td>
        </tr>
        <tr>
            <td>dateFacture</td>
            <td>Date</td>
            <td>Date d‚Äô√©mission de la facture</td>
            <td>Peut √™tre null</td>
        </tr>
        <tr>
            <td>adresseFacture</td>
            <td>String (255)</td>
            <td>Adresse de facturation</td>
            <td>Obligatoire</td>
        </tr>
        <tr>
            <td>dateLivraison</td>
            <td>Date</td>
            <td>Date pr√©vue pour la livraison</td>
            <td>Peut √™tre null</td>
        </tr>
        <tr>
            <td>adresseLivraison</td>
            <td>String (255)</td>
            <td>Adresse de livraison</td>
            <td>Obligatoire</td>
        </tr>
        <tr>
            <td>users</td>
            <td>Relation</td>
            <td>Utilisateur ayant pass√© la commande</td>
            <td>Relation ManyToOne avec `Users`</td>
        </tr>
        <tr>
            <td>coefficient</td>
            <td>Float</td>
            <td>Coefficient de marge appliqu√© √† la commande</td>
            <td>Obligatoire</td>
        </tr>
        <tr>
            <td>total</td>
            <td>Decimal (10,2)</td>
            <td>Montant total de la commande</td>
            <td>Obligatoire</td>
        </tr>
        <tr>
            <td>datePayment</td>
            <td>DateTime</td>
            <td>Date du paiement</td>
            <td>Peut √™tre null</td>
        </tr>
    </table>

    <h2>‚öôÔ∏è R√®gles de gestion</h2>
    <ul>
        <li>üìå Une commande doit toujours √™tre associ√©e √† un utilisateur.</li>
        <li>üí∞ Le champ <strong>reduction</strong> ne peut pas √™tre n√©gatif.</li>
        <li>üìÖ Une commande ne peut √™tre factur√©e que si elle est en statut <strong>"Valid√©e"</strong> ou sup√©rieur.</li>
        <li>üìç L‚Äôadresse de livraison et l‚Äôadresse de facturation doivent √™tre renseign√©es obligatoirement.</li>
        <li>üì¶ Une commande ne peut √™tre livr√©e que si son paiement est valid√©.</li>
        <li>üìú Le total doit √™tre calcul√© automatiquement en fonction des produits et de la r√©duction.</li>
    </ul>


</body>
</html>
